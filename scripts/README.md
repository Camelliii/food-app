# 菜谱导入工具使用说明

## 功能说明

这个工具可以将爬取的HTML菜谱文件批量解析并导入到应用中。

## 使用步骤

### 1. 准备HTML文件

确保你的HTML文件存放在一个目录中，例如 `D:/recipe`，文件命名格式为 `1.html`, `2.html`, `3.html` 等。

### 2. 运行解析脚本

在项目根目录下运行：

```bash
npm run parse-recipes D:/recipe parsed_recipes.json
```

参数说明：
- 第一个参数：HTML文件所在目录（默认：`D:/recipe`）
- 第二个参数：输出的JSON文件名（默认：`parsed_recipes.json`）

### 3. 查看解析结果

解析完成后，会在项目根目录生成 `parsed_recipes.json` 文件，包含所有解析后的菜谱数据。

### 4. 在应用中导入

1. 启动应用：`npm run dev`
2. 访问导入页面：`http://localhost:5173/import`
3. 选择生成的 `parsed_recipes.json` 文件
4. 点击"开始导入"按钮

## 解析规则

脚本会从HTML中提取以下信息：

- **菜名**：从 `<h1>` 标签提取
- **菜系**：从"菜系："文本后提取，并映射到应用分类
- **描述**：从 `<meta name="description">` 或文章内容提取
- **食材**：从"制作材料"和"主料"部分解析
- **步骤**：从"详细做法步骤"的 `<ul><li>` 列表中提取

## 注意事项

1. 如果解析失败，会在控制台显示错误信息
2. 重复的菜谱（根据名称）在导入时会被自动跳过
3. 如果食材无法解析，会使用默认值（数量1，单位"适量"）
4. 如果步骤无法解析，会尝试从整个文章内容中提取

## 菜系映射

网页中的菜系会自动映射到应用的分类：

- 川菜、鲁菜、粤菜等 → `热菜`
- 其他菜系 → `其他`
- 糕点 → `烘焙`
- 饮品 → `饮品`
- 小吃 → `小吃`
- 养生相关 → `养生`

## 故障排除

如果遇到问题：

1. **文件读取失败**：检查目录路径是否正确
2. **解析失败**：检查HTML文件格式是否符合预期
3. **导入失败**：检查JSON文件格式是否正确

